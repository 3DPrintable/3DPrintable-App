{"ast":null,"code":"var _jsxFileName = \"/Users/bryce_palichuk/Documents/GitHub/3DPrintable_Organization/3DPrintable-App/src/components/NFTBalance.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useMoralis } from \"react-moralis\";\nimport { Card, Image, Tooltip, Modal, Input, Alert, Spin, Button } from \"antd\";\nimport { useNFTBalance } from \"hooks/useNFTBalance\";\nimport { FileSearchOutlined, DownloadOutlined } from \"@ant-design/icons\";\nimport { useMoralisDapp } from \"providers/MoralisDappProvider/MoralisDappProvider\";\nimport { getExplorer } from \"helpers/networks\";\nimport { useWeb3ExecuteFunction } from \"react-moralis\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Meta\n} = Card;\nconst styles = {\n  NFTs: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    WebkitBoxPack: \"start\",\n    justifyContent: \"flex-start\",\n    margin: \"0 auto\",\n    maxWidth: \"1000px\",\n    gap: \"10px\"\n  }\n};\n\nfunction NFTBalance() {\n  _s();\n\n  const {\n    NFTBalance\n  } = useNFTBalance();\n  const {\n    chainId\n  } = useMoralisDapp();\n  const {\n    Moralis\n  } = useMoralis();\n\n  async function list(nft, listPrice) {\n    setLoading(true);\n    const p = listPrice * (\"1e\" + 18);\n    const ops = {\n      contractAddress: marketAddress,\n      functionName: listItemFunction,\n      abi: contractABIJson,\n      params: {\n        nftContract: nft.token_address,\n        tokenId: nft.token_id,\n        price: String(p)\n      }\n    };\n    await contractProcessor.fetch({\n      params: ops,\n      onSuccess: () => {\n        console.log(\"success\");\n        setLoading(false);\n        setVisibility(false);\n        addItemImage();\n        succList();\n      },\n      onError: error => {\n        setLoading(false);\n        failList();\n      }\n    });\n  }\n\n  async function approveAll(nft) {\n    setLoading(true);\n    const ops = {\n      contractAddress: nft.token_address,\n      functionName: \"setApprovalForAll\",\n      abi: [{\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"operator\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"bool\",\n          \"name\": \"approved\",\n          \"type\": \"bool\"\n        }],\n        \"name\": \"setApprovalForAll\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }],\n      params: {\n        operator: marketAddress,\n        approved: true\n      }\n    };\n    await contractProcessor.fetch({\n      params: ops,\n      onSuccess: () => {\n        console.log(\"Approval Received\");\n        setLoading(false);\n        setVisibility(false);\n        succApprove();\n      },\n      onError: error => {\n        setLoading(false);\n        failApprove();\n      }\n    });\n  }\n\n  const handleSellClick = nft => {\n    setNftToSend(nft);\n    setVisibility(true);\n  }; // function succList() {\n  //   let secondsToGo = 5;\n  //   const modal = Modal.success({\n  //     title: \"Success!\",\n  //     content: `Your NFT was listed on the marketplace`,\n  //   });\n  //   setTimeout(() => {\n  //     modal.destroy();\n  //   }, secondsToGo * 1000);\n  // }\n  // function succApprove() {\n  //   let secondsToGo = 5;\n  //   const modal = Modal.success({\n  //     title: \"Success!\",\n  //     content: `Approval is now set, you may list your NFT`,\n  //   });\n  //   setTimeout(() => {\n  //     modal.destroy();\n  //   }, secondsToGo * 1000);\n  // }\n  // function failList() {\n  //   let secondsToGo = 5;\n  //   const modal = Modal.error({\n  //     title: \"Error!\",\n  //     content: `There was a problem listing your NFT`,\n  //   });\n  //   setTimeout(() => {\n  //     modal.destroy();\n  //   }, secondsToGo * 1000);\n  // }\n  // function failApprove() {\n  //   let secondsToGo = 5;\n  //   const modal = Modal.error({\n  //     title: \"Error!\",\n  //     content: `There was a problem with setting approval`,\n  //   });\n  //   setTimeout(() => {\n  //     modal.destroy();\n  //   }, secondsToGo * 1000);\n  // }\n  // function addItemImage() {\n  //   const itemImage = new ItemImage();\n  //   itemImage.set(\"image\", nftToSend.image);\n  //   itemImage.set(\"nftContract\", nftToSend.token_address);\n  //   itemImage.set(\"tokenId\", nftToSend.token_id);\n  //   itemImage.set(\"name\", nftToSend.name);\n  //   itemImage.save();\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.NFTs,\n      children: NFTBalance && NFTBalance.map((nft, index) => /*#__PURE__*/_jsxDEV(Card, {\n        hoverable: true,\n        actions: [/*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"View On Blockexplorer\",\n          children: /*#__PURE__*/_jsxDEV(FileSearchOutlined, {\n            onClick: () => window.open(`${getExplorer(chainId)}token/${nft.token_address}?a=${nft.token_id}#inventory`, \"_blank\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Download File\",\n          children: /*#__PURE__*/_jsxDEV(DownloadOutlined, {\n            onClick: () => handleSellClick(nft)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 17\n        }, this)],\n        style: {\n          width: 240,\n          border: \"2px solid #e7eaf3\"\n        },\n        cover: /*#__PURE__*/_jsxDEV(Image, {\n          preview: false,\n          src: (nft === null || nft === void 0 ? void 0 : nft.image) || \"error\",\n          fallback: \"data:image/png;base64,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\",\n          alt: \"\",\n          style: {\n            height: \"240px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(Meta, {\n          title: nft.name,\n          description: nft.contract_type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(NFTBalance, \"hbsg1siTzk0qVE1VufaIYTGo9Jo=\", false, function () {\n  return [useNFTBalance, useMoralisDapp, useMoralis];\n});\n\n_c = NFTBalance;\nexport default NFTBalance;\n\nvar _c;\n\n$RefreshReg$(_c, \"NFTBalance\");","map":{"version":3,"sources":["/Users/bryce_palichuk/Documents/GitHub/3DPrintable_Organization/3DPrintable-App/src/components/NFTBalance.jsx"],"names":["React","useState","useMoralis","Card","Image","Tooltip","Modal","Input","Alert","Spin","Button","useNFTBalance","FileSearchOutlined","DownloadOutlined","useMoralisDapp","getExplorer","useWeb3ExecuteFunction","Meta","styles","NFTs","display","flexWrap","WebkitBoxPack","justifyContent","margin","maxWidth","gap","NFTBalance","chainId","Moralis","list","nft","listPrice","setLoading","p","ops","contractAddress","marketAddress","functionName","listItemFunction","abi","contractABIJson","params","nftContract","token_address","tokenId","token_id","price","String","contractProcessor","fetch","onSuccess","console","log","setVisibility","addItemImage","succList","onError","error","failList","approveAll","operator","approved","succApprove","failApprove","handleSellClick","setNftToSend","map","index","window","open","width","border","image","height","name","contract_type"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,OAAtB,EAA+BC,KAA/B,EAAsCC,KAAtC,EAA6CC,KAA7C,EAAoDC,IAApD,EAA0DC,MAA1D,QAAwE,MAAxE;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,SAASC,kBAAT,EAA6BC,gBAA7B,QAAqD,mBAArD;AACA,SAASC,cAAT,QAA+B,mDAA/B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,sBAAT,QAAuC,eAAvC;;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAWd,IAAjB;AAEA,MAAMe,MAAM,GAAG;AACbC,EAAAA,IAAI,EAAE;AACJC,IAAAA,OAAO,EAAE,MADL;AAEJC,IAAAA,QAAQ,EAAE,MAFN;AAGJC,IAAAA,aAAa,EAAE,OAHX;AAIJC,IAAAA,cAAc,EAAE,YAJZ;AAKJC,IAAAA,MAAM,EAAE,QALJ;AAMJC,IAAAA,QAAQ,EAAE,QANN;AAOJC,IAAAA,GAAG,EAAE;AAPD;AADO,CAAf;;AAYA,SAASC,UAAT,GAAsB;AAAA;;AACpB,QAAM;AAAEA,IAAAA;AAAF,MAAiBhB,aAAa,EAApC;AACA,QAAM;AAAEiB,IAAAA;AAAF,MAAcd,cAAc,EAAlC;AACA,QAAM;AAAEe,IAAAA;AAAF,MAAc3B,UAAU,EAA9B;;AAEA,iBAAe4B,IAAf,CAAoBC,GAApB,EAAyBC,SAAzB,EAAoC;AAClCC,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAMC,CAAC,GAAGF,SAAS,IAAI,OAAO,EAAX,CAAnB;AACA,UAAMG,GAAG,GAAG;AACVC,MAAAA,eAAe,EAAEC,aADP;AAEVC,MAAAA,YAAY,EAAEC,gBAFJ;AAGVC,MAAAA,GAAG,EAAEC,eAHK;AAIVC,MAAAA,MAAM,EAAE;AACNC,QAAAA,WAAW,EAAEZ,GAAG,CAACa,aADX;AAENC,QAAAA,OAAO,EAAEd,GAAG,CAACe,QAFP;AAGNC,QAAAA,KAAK,EAAEC,MAAM,CAACd,CAAD;AAHP;AAJE,KAAZ;AAWA,UAAMe,iBAAiB,CAACC,KAAlB,CAAwB;AAC5BR,MAAAA,MAAM,EAAEP,GADoB;AAE5BgB,MAAAA,SAAS,EAAE,MAAM;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACApB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACAqB,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAC,QAAAA,YAAY;AACZC,QAAAA,QAAQ;AACT,OAR2B;AAS5BC,MAAAA,OAAO,EAAGC,KAAD,IAAW;AAClBzB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACA0B,QAAAA,QAAQ;AACT;AAZ2B,KAAxB,CAAN;AAcD;;AAGD,iBAAeC,UAAf,CAA0B7B,GAA1B,EAA+B;AAC7BE,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAME,GAAG,GAAG;AACVC,MAAAA,eAAe,EAAEL,GAAG,CAACa,aADX;AAEVN,MAAAA,YAAY,EAAE,mBAFJ;AAGVE,MAAAA,GAAG,EAAE,CAAC;AAAC,kBAAS,CAAC;AAAC,0BAAe,SAAhB;AAA0B,kBAAO,UAAjC;AAA4C,kBAAO;AAAnD,SAAD,EAA+D;AAAC,0BAAe,MAAhB;AAAuB,kBAAO,UAA9B;AAAyC,kBAAO;AAAhD,SAA/D,CAAV;AAAkI,gBAAO,mBAAzI;AAA6J,mBAAU,EAAvK;AAA0K,2BAAkB,YAA5L;AAAyM,gBAAO;AAAhN,OAAD,CAHK;AAIVE,MAAAA,MAAM,EAAE;AACNmB,QAAAA,QAAQ,EAAExB,aADJ;AAENyB,QAAAA,QAAQ,EAAE;AAFJ;AAJE,KAAZ;AAUA,UAAMb,iBAAiB,CAACC,KAAlB,CAAwB;AAC5BR,MAAAA,MAAM,EAAEP,GADoB;AAE5BgB,MAAAA,SAAS,EAAE,MAAM;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACApB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACAqB,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAS,QAAAA,WAAW;AACZ,OAP2B;AAQ5BN,MAAAA,OAAO,EAAGC,KAAD,IAAW;AAClBzB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACA+B,QAAAA,WAAW;AACZ;AAX2B,KAAxB,CAAN;AAaD;;AAED,QAAMC,eAAe,GAAIlC,GAAD,IAAS;AAC/BmC,IAAAA,YAAY,CAACnC,GAAD,CAAZ;AACAuB,IAAAA,aAAa,CAAC,IAAD,CAAb;AACD,GAHD,CA/DoB,CAoEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;;;AAEA,sBACE;AAAA,2BACE;AAAK,MAAA,KAAK,EAAEpC,MAAM,CAACC,IAAnB;AAAA,gBACGQ,UAAU,IACTA,UAAU,CAACwC,GAAX,CAAe,CAACpC,GAAD,EAAMqC,KAAN,kBACb,QAAC,IAAD;AACE,QAAA,SAAS,MADX;AAEE,QAAA,OAAO,EAAE,cACP,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,uBAAf;AAAA,iCACE,QAAC,kBAAD;AACE,YAAA,OAAO,EAAE,MACPC,MAAM,CAACC,IAAP,CACG,GAAEvD,WAAW,CAACa,OAAD,CAAU,SAAQG,GAAG,CAACa,aAAc,MAAKb,GAAG,CAACe,QAAS,YADtE,EAEE,QAFF;AAFJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADO,eAWP,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,eAAf;AAAA,iCACE,QAAC,gBAAD;AAAkB,YAAA,OAAO,EAAE,MAAMmB,eAAe,CAAClC,GAAD;AAAhD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAXO,CAFX;AAiBE,QAAA,KAAK,EAAE;AAAEwC,UAAAA,KAAK,EAAE,GAAT;AAAcC,UAAAA,MAAM,EAAE;AAAtB,SAjBT;AAkBE,QAAA,KAAK,eACH,QAAC,KAAD;AACE,UAAA,OAAO,EAAE,KADX;AAEE,UAAA,GAAG,EAAE,CAAAzC,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAE0C,KAAL,KAAc,OAFrB;AAGE,UAAA,QAAQ,EAAC,gqGAHX;AAIE,UAAA,GAAG,EAAC,EAJN;AAKE,UAAA,KAAK,EAAE;AAAEC,YAAAA,MAAM,EAAE;AAAV;AALT;AAAA;AAAA;AAAA;AAAA,gBAnBJ;AAAA,+BA6BE,QAAC,IAAD;AAAM,UAAA,KAAK,EAAE3C,GAAG,CAAC4C,IAAjB;AAAuB,UAAA,WAAW,EAAE5C,GAAG,CAAC6C;AAAxC;AAAA;AAAA;AAAA;AAAA;AA7BF,SA2BOR,KA3BP;AAAA;AAAA;AAAA;AAAA,cADF;AAFJ;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAwCD;;GAnKQzC,U;UACgBhB,a,EACHG,c,EACAZ,U;;;KAHbyB,U;AAqKT,eAAeA,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useMoralis } from \"react-moralis\";\nimport { Card, Image, Tooltip, Modal, Input, Alert, Spin, Button } from \"antd\";\nimport { useNFTBalance } from \"hooks/useNFTBalance\";\nimport { FileSearchOutlined, DownloadOutlined } from \"@ant-design/icons\";\nimport { useMoralisDapp } from \"providers/MoralisDappProvider/MoralisDappProvider\";\nimport { getExplorer } from \"helpers/networks\";\nimport { useWeb3ExecuteFunction } from \"react-moralis\";\nconst { Meta } = Card;\n\nconst styles = {\n  NFTs: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    WebkitBoxPack: \"start\",\n    justifyContent: \"flex-start\",\n    margin: \"0 auto\",\n    maxWidth: \"1000px\",\n    gap: \"10px\",\n  },\n};\n\nfunction NFTBalance() {\n  const { NFTBalance } = useNFTBalance();\n  const { chainId } = useMoralisDapp();\n  const { Moralis } = useMoralis();\n\n  async function list(nft, listPrice) {\n    setLoading(true);\n    const p = listPrice * (\"1e\" + 18);\n    const ops = {\n      contractAddress: marketAddress,\n      functionName: listItemFunction,\n      abi: contractABIJson,\n      params: {\n        nftContract: nft.token_address,\n        tokenId: nft.token_id,\n        price: String(p),\n      },\n    };\n\n    await contractProcessor.fetch({\n      params: ops,\n      onSuccess: () => {\n        console.log(\"success\");\n        setLoading(false);\n        setVisibility(false);\n        addItemImage();\n        succList();\n      },\n      onError: (error) => {\n        setLoading(false);\n        failList();\n      },\n    });\n  }\n\n\n  async function approveAll(nft) {\n    setLoading(true);  \n    const ops = {\n      contractAddress: nft.token_address,\n      functionName: \"setApprovalForAll\",\n      abi: [{\"inputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\n      params: {\n        operator: marketAddress,\n        approved: true\n      },\n    };\n\n    await contractProcessor.fetch({\n      params: ops,\n      onSuccess: () => {\n        console.log(\"Approval Received\");\n        setLoading(false);\n        setVisibility(false);\n        succApprove();\n      },\n      onError: (error) => {\n        setLoading(false);\n        failApprove();\n      },\n    });\n  }\n\n  const handleSellClick = (nft) => {\n    setNftToSend(nft);\n    setVisibility(true);\n  };\n\n  // function succList() {\n  //   let secondsToGo = 5;\n  //   const modal = Modal.success({\n  //     title: \"Success!\",\n  //     content: `Your NFT was listed on the marketplace`,\n  //   });\n  //   setTimeout(() => {\n  //     modal.destroy();\n  //   }, secondsToGo * 1000);\n  // }\n\n  // function succApprove() {\n  //   let secondsToGo = 5;\n  //   const modal = Modal.success({\n  //     title: \"Success!\",\n  //     content: `Approval is now set, you may list your NFT`,\n  //   });\n  //   setTimeout(() => {\n  //     modal.destroy();\n  //   }, secondsToGo * 1000);\n  // }\n\n  // function failList() {\n  //   let secondsToGo = 5;\n  //   const modal = Modal.error({\n  //     title: \"Error!\",\n  //     content: `There was a problem listing your NFT`,\n  //   });\n  //   setTimeout(() => {\n  //     modal.destroy();\n  //   }, secondsToGo * 1000);\n  // }\n\n  // function failApprove() {\n  //   let secondsToGo = 5;\n  //   const modal = Modal.error({\n  //     title: \"Error!\",\n  //     content: `There was a problem with setting approval`,\n  //   });\n  //   setTimeout(() => {\n  //     modal.destroy();\n  //   }, secondsToGo * 1000);\n  // }\n\n  // function addItemImage() {\n  //   const itemImage = new ItemImage();\n\n  //   itemImage.set(\"image\", nftToSend.image);\n  //   itemImage.set(\"nftContract\", nftToSend.token_address);\n  //   itemImage.set(\"tokenId\", nftToSend.token_id);\n  //   itemImage.set(\"name\", nftToSend.name);\n\n  //   itemImage.save();\n  // }\n\n  return (\n    <>\n      <div style={styles.NFTs}>\n        {NFTBalance &&\n          NFTBalance.map((nft, index) => (\n            <Card\n              hoverable\n              actions={[\n                <Tooltip title=\"View On Blockexplorer\">\n                  <FileSearchOutlined\n                    onClick={() =>\n                      window.open(\n                        `${getExplorer(chainId)}token/${nft.token_address}?a=${nft.token_id}#inventory`,\n                        \"_blank\"\n                      )\n                    }\n                  />\n                </Tooltip>,\n                <Tooltip title=\"Download File\">\n                  <DownloadOutlined onClick={() => handleSellClick(nft)} />\n                </Tooltip>,\n              ]}\n              style={{ width: 240, border: \"2px solid #e7eaf3\" }}\n              cover={\n                <Image\n                  preview={false}\n                  src={nft?.image || \"error\"}\n                  fallback=\"data:image/png;base64,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\"\n                  alt=\"\"\n                  style={{ height: \"240px\" }}\n                />\n              }\n              key={index}\n            >\n              <Meta title={nft.name} description={nft.contract_type} />\n            </Card>\n          ))}\n      </div>\n    </>\n  );\n}\n\nexport default NFTBalance;\n"]},"metadata":{},"sourceType":"module"}